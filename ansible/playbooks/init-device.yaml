---
- hosts: '{{ targets | default("all") }}'
  become: true
  gather_facts: true
  tasks:
    # Tasks for all devices
    - import_role:
        name: device-common
    
    # Tasks for dev devices only
    - import_role:
        name: device-dev
      when: "host_roles is contains('dev')"